# CSRF атака

## Описание

CSRF - подделка межсайтовых запросов, другими словами, это атака при которой хакер выполняет массу различных действий от имени других, зарегистрированных посетителей.

Атаки по подделке межсайтовых запросов (CSRF) происходит в два этапа:
1) Необходимо заставить жертву щелкнуть по ссылке или загрузить страницу злоумышленника. Эта ссылка запускает поддельный запрос, содержащий вредоносный код. Вредоносный код обычно размещается на веб-сайте принадлежащим злоумышленнику, в другом домене.
  

2) Необходимо отправить специально созданный запрос в браузер жертвы, который отправит законный запрос в веб-приложение (JavaScript вызывает form.submit, отправляя таким образом форму на mail.com). Запрос будет отправлен со значениями, которые хочет злоумышленник, включая любые файлы cookie, которые жертва связала с этим веб-сайтом. Таким образом, веб-приложение знает, что эта жертва может выполнять определенные действия на веб-сайте, и любой запрос, отправленный с использованием этих учетных данных HTTP или файлов cookie, будет считаться законным, даже если жертва будет отправлять запрос по команде злоумышленника.


## Классификация
*Пример атаки CSRF с использованием запроса GET*

GET-запросы не должны использоваться для выполнения изменений состояния, поэтому отправка GET-запроса не изменяет никаких данных.

При щелчке вредоносной ссылки злоумышленник перенаправляет "жертву" в свое вредоносное веб-приложение, который выполняет сценарий, заставляющий браузер "жертвы" отправить незаконный (пользователь не знает о том, что он отправляется) запрос, включающий в себя необходимые файлы cookie. 

*CSRF-атаки с использованием запросов POST*

Большинство запросов на изменение состояния будут выполняться через запросы POST, отправляющие любые параметры и значения в теле запроса. 

Для запросов POST требуется, чтобы тело запроса было добавлено к самому запросу. Используя немного JavaScript, злоумышленник может заманить "жертву" в свое вредоносное веб-приложение, чтобы при загрузке веб-страницы незаконный запрос POST отправлялся автоматически.
При загрузке страницы, заготовленная функция обеспечивает отправку формы, которая в свою очередь отправляет запрос POST. В форму включены статические параметры, где, например, example.com идентифицирует запрос как законный, поскольку он будет включать файлы cookie "жертвы".


## Условия
- ОС: если проблема специфична для определенной ОС
- язык: если проблема специфичная для определенных языков
- компоненты: какие компоненты подвержены проблеме. Это могут быть библиотеки, базы данных, фреймворки, брокеры очередей и т.д.
- настройки: может есть какие-то специфичные настройки

Можно добавить еще информацию, которая не подходит под пункты выше, самостоятельно

## Детектирование
Описать как проблема детектируется. На что обращают внимание. Можно ли проблему детектировать автоматизированно или только вручную.
Если автоматизированно, то как лучше детектировать - код ревью или сканирование уязвимостей?

Информация:
- в каждый пункт можно добавлять необходимую информацию из статей в ввиде ссылок - [google.com](https://www.google.com)

## Эксплуатация
Здесь необходимо описать пример ручной эксплуатации. Сразу уточните какой это язык, какие компоненты используются, если эксплуатация специфична только для этих условий. Можно записать сюда порядок действий при эксплуатации тестового задания

### Инструменты
- здесь можно перечислить ссылками инструменты и полезную информацию, которая может понадобиться для эксплуатации

## Ущерб
Описать во что возможно развитие вектора атаки, если не существует защитных мер вовсе. То есть описать, что максимльно может получить злоумышленник, если все условия сойдутся.

Написать, к чему могут привести в итоге эксплуатация этих векторов атак

## Защита
### Основные меры
В основных мерах описываем способы как 100% защититься от уязвимости/атаки

### Превентивные меры
А здесь описываем как можем уменьшить ущерб от уязвимости/атаки, если она существует. То есть, подход Defense in Depth.

## Дополнительно
Здесь приложить дополнительную информацию и источники, которые использовали, но не указали выше в других местах.

## Обход защиты
Если существуют варианты обхода защиты, то можно их здесь перечислить.

Если есть возможность, то надо написать в чем заключается защита и каким образом она обходится.
